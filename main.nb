(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 12.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     52963,       1119]
NotebookOptionsPosition[     48584,       1056]
NotebookOutlinePosition[     49083,       1076]
CellTagsIndexPosition[     49040,       1073]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.924432818550273*^9, 
  3.924432820532761*^9}},ExpressionUUID->"74f86dd5-4275-4ae3-aa3c-\
9dc089e9241c"],

Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.923805964972581*^9, 3.92380604176309*^9}, {
   3.9238060939563932`*^9, 3.923806093957992*^9}, {3.923806133936603*^9, 
   3.923806171998139*^9}, {3.923806269720893*^9, 3.923806275576232*^9}, {
   3.923806357940845*^9, 3.9238063677483788`*^9}, {3.923806707308507*^9, 
   3.9238067416338043`*^9}, {3.923807518838867*^9, 3.9238075867724543`*^9}, {
   3.923813375486854*^9, 3.923813402233659*^9}, {3.923813493324642*^9, 
   3.92381349801746*^9}, {3.923813657771596*^9, 3.923813662363648*^9}, {
   3.923813699713625*^9, 3.923813701991497*^9}, {3.9238138084436073`*^9, 
   3.9238138159921923`*^9}, {3.923814081028935*^9, 3.923814191367448*^9}, {
   3.9238142312611847`*^9, 3.923814257537178*^9}, {3.923918106973569*^9, 
   3.923918109510008*^9}, {3.923918296096505*^9, 3.9239183357693615`*^9}, {
   3.9244119337040725`*^9, 3.9244119749633512`*^9}, {3.924412039798854*^9, 
   3.9244120434967937`*^9}, {3.924412185140998*^9, 3.9244122128147163`*^9}, {
   3.924432825053156*^9, 3.924432852211235*^9}, {3.924433243908847*^9, 
   3.9244332642089252`*^9}, {3.9244333724805613`*^9, 
   3.9244335053676777`*^9}, {3.9244336597746196`*^9, 3.9244336756212*^9}, {
   3.9244361048537416`*^9, 3.9244361196664963`*^9}, {3.9244396449457464`*^9, 
   3.9244396499103622`*^9}, {3.924439975289153*^9, 3.9244399836553087`*^9}, 
   3.9244400184246655`*^9},ExpressionUUID->"a07243e4-f485-4ca3-9ff3-\
ba203c6423b0"],

Cell[BoxData["Quit"], "Input",
 CellChangeTimes->{{3.9244377621276226`*^9, 3.9244377780560503`*^9}, {
  3.926581731900631*^9, 3.9265817366588907`*^9}},
 CellLabel->"In[79]:=",ExpressionUUID->"20860d48-3642-4fc5-8ca7-0249d4e28fc9"],

Cell[BoxData[
 RowBox[{" ", 
  RowBox[{
   RowBox[{"SetDirectory", "[", 
    RowBox[{"NotebookDirectory", "[", "]"}], "]"}], ";"}]}]], "Input",
 CellChangeTimes->{{3.9244361027101746`*^9, 3.9244361232262077`*^9}, {
   3.9244376387859106`*^9, 3.924437652899641*^9}, 3.92443777443284*^9},
 CellLabel->"In[1]:=",ExpressionUUID->"565715d1-b626-4583-b9fd-636ae94ae980"],

Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.924739306378912*^9, 3.924739307327581*^9}, 
   3.9265817354107833`*^9},
 CellLabel->"In[38]:=",ExpressionUUID->"51dd8279-7305-4d4a-b5ca-fec45508606e"],

Cell[BoxData[""], "Input",
 CellChangeTimes->{3.927170651782139*^9},
 CellLabel->"In[45]:=",ExpressionUUID->"bb6c9b67-7a98-4d23-9a9c-4689af77ae8d"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Needs", "[", 
   RowBox[{"\"\<Objects`\>\"", ",", " ", "\"\<objects.wl\>\""}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Needs", "[", 
   RowBox[{"\"\<Functions`\>\"", ",", " ", "\"\<functions.wl\>\""}], "]"}], 
  ";"}], "\[IndentingNewLine]"}], "Input",
 CellChangeTimes->{{3.9244376629339247`*^9, 3.9244376986305127`*^9}, {
   3.9245264826432056`*^9, 3.9245265013804984`*^9}, {3.924526923508462*^9, 
   3.9245269293161755`*^9}, {3.924532325957307*^9, 3.924532356039049*^9}, 
   3.9245323957832193`*^9, {3.924534325318524*^9, 3.924534325672948*^9}, {
   3.924535798819422*^9, 3.9245358010221505`*^9}, {3.9245359407155714`*^9, 
   3.9245359417193756`*^9}},
 EmphasizeSyntaxErrors->True,
 CellLabel->"In[2]:=",ExpressionUUID->"8c861900-a1ce-4afe-8447-d247f409af75"],

Cell[BoxData[""], "Code",
 CellChangeTimes->{{3.928042230011093*^9, 3.92804227965576*^9}, {
  3.928042327543601*^9, 3.928042389048143*^9}, {3.92804242784836*^9, 
  3.9280424962482443`*^9}, {3.928042534184515*^9, 3.928042570808621*^9}, {
  3.9280426039765882`*^9, 3.928042649947041*^9}, {3.928042917919148*^9, 
  3.928042936263139*^9}, {3.928043205132144*^9, 3.92804320537213*^9}},
 CellLabel->"In[43]:=",ExpressionUUID->"d67fe887-8a20-4c71-be98-74e0d79854a3"],

Cell[BoxData[
 RowBox[{
  RowBox[{"figuresList", " ", "=", " ", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"1", ",", "1"}], "}"}], ",", "\[IndentingNewLine]", 
       "\t\t\t  ", 
       RowBox[{"{", 
        RowBox[{"1", ",", "1"}], "}"}]}], "}"}], ",", "\[IndentingNewLine]", 
     "\t\t\t", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"0", ",", "1", ",", "0"}], "}"}], ",", "\[IndentingNewLine]", 
       "\t\t\t", 
       RowBox[{"{", 
        RowBox[{"1", ",", "1", ",", "1"}], "}"}]}], "}"}], ",", 
     "\[IndentingNewLine]", "\t\t\t", 
     RowBox[{"{", 
      RowBox[{"{", 
       RowBox[{"1", ",", "1", ",", "1", ",", "1"}], "}"}], "}"}], ",", 
     "\[IndentingNewLine]", "\t\t\t", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"1", ",", "0"}], "}"}], ",", "\[IndentingNewLine]", "\t\t\t", 
       
       RowBox[{"{", 
        RowBox[{"1", ",", "0"}], "}"}], ",", "\[IndentingNewLine]", "\t\t\t", 
       
       RowBox[{"{", 
        RowBox[{"1", ",", "1"}], "}"}]}], "}"}]}], "}"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.9245366270769053`*^9, 3.9245366282934666`*^9}, {
  3.9256085464579163`*^9, 3.925608552339172*^9}, {3.9257950526880064`*^9, 
  3.9257951888080225`*^9}, {3.9257952444640274`*^9, 3.925795268880023*^9}, {
  3.9257959004969006`*^9, 3.9257959022889*^9}, {3.925796167514147*^9, 
  3.925796195649671*^9}},
 CellLabel->"In[4]:=",ExpressionUUID->"e379ec9d-cbb6-4331-b73f-9333586a8b2b"],

Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.9245356763528996`*^9, 3.9245357566685734`*^9}, 
   3.9258711886050053`*^9, {3.9258914443270993`*^9, 3.9258915004378786`*^9}, {
   3.925891534439559*^9, 3.925891563620638*^9}, {3.9258916065186725`*^9, 
   3.925891628853982*^9}, {3.925891699270403*^9, 3.925891716086369*^9}, {
   3.925891977068793*^9, 3.9258919917887926`*^9}, 3.926399014700028*^9, {
   3.9263998515717278`*^9, 3.926399875560598*^9}, 
   3.9269544045945735`*^9},ExpressionUUID->"7cea3099-4107-4e9f-96bf-\
593be7760bb4"],

Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.9269544019362645`*^9, 3.9269544019392653`*^9}, 
   3.92716942779946*^9, 3.92717072906988*^9, 
   3.927174532448804*^9},ExpressionUUID->"d1e80638-0916-477b-8c5e-\
b15278989dc9"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"displayLayer", " ", "=", " ", 
   RowBox[{"RandomInteger", "[", 
    RowBox[{"0", ",", 
     RowBox[{"{", 
      RowBox[{"23", ",", "10"}], "}"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"AppendTo", "[", 
   RowBox[{"displayLayer", ",", 
    RowBox[{"RandomInteger", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"1", ",", "1"}], "}"}], ",", 
      RowBox[{"{", "10", "}"}]}], "]"}]}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"flag", " ", "=", " ", "10"}], ";"}]}], "Input",
 CellChangeTimes->{{3.925891542317911*^9, 3.9258915713096704`*^9}, {
   3.925891607358638*^9, 3.9258916096686387`*^9}, 3.926586931731083*^9, {
   3.926954428354746*^9, 3.9269544304357367`*^9}, {3.9270724318850517`*^9, 
   3.9270724326210513`*^9}, {3.927072899766117*^9, 3.9270729029971104`*^9}, {
   3.9286587576762495`*^9, 3.9286587711313524`*^9}, {3.928659356834305*^9, 
   3.9286593604100804`*^9}},
 CellLabel->"In[5]:=",ExpressionUUID->"50987ebf-66cf-4e4d-93f9-01d2e26c4685"],

Cell[BoxData[
 RowBox[{"\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"build", "[", "]"}], ":=", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{"shape", " ", "=", " ", 
        RowBox[{"figuresList", "[", 
         RowBox[{"[", 
          RowBox[{"randomChoice", "[", 
           RowBox[{"Length", "[", "figuresList", "]"}], "]"}], "]"}], "]"}]}],
        ";", "\[IndentingNewLine]", 
       RowBox[{"shapeLayer", " ", "=", " ", 
        RowBox[{"RandomInteger", "[", 
         RowBox[{"0", ",", 
          RowBox[{"{", 
           RowBox[{"23", ",", "10"}], "}"}]}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"s", " ", "=", " ", 
        RowBox[{"figureBuild", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"1", ",", "0"}], "}"}], ",", " ", "1", ",", " ", "1", ",", 
          "True", ",", " ", "shape"}], "]"}]}], ";", "\[IndentingNewLine]", 
       "\[IndentingNewLine]", 
       RowBox[{"s", "@", 
        RowBox[{"setPosX", "[", 
         RowBox[{"randomPos", "[", 
          RowBox[{
           RowBox[{"Length", "[", 
            RowBox[{"displayLayer", "[", 
             RowBox[{"[", "1", "]"}], "]"}], "]"}], "-", " ", 
           RowBox[{"Length", "[", 
            RowBox[{
             RowBox[{"shape", "[", 
              RowBox[{"[", "1", "]"}], "]"}], " ", "-", " ", "1"}], "]"}]}], 
          "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"s", " ", "@", " ", 
        RowBox[{"placeOnDisplay", "[", 
         RowBox[{"shapeLayer", ",", " ", "True"}], "]"}]}]}], ")"}]}], ";"}], 
   "\[IndentingNewLine]"}]}]], "Input",
 CellChangeTimes->{{3.9245357476735024`*^9, 3.924535748476968*^9}, 
   3.9258918588634224`*^9, {3.9258918948615417`*^9, 3.92589189965551*^9}, {
   3.9258919687818203`*^9, 3.925891973804809*^9}, 3.925895114934066*^9, 
   3.9269544365621777`*^9, {3.928040872183086*^9, 3.928040899904849*^9}, {
   3.92865871141214*^9, 3.9286588390030327`*^9}, {3.928658874020395*^9, 
   3.9286588892355556`*^9}, {3.928658930715849*^9, 3.928658988804285*^9}, {
   3.9286592887703633`*^9, 3.928659377729928*^9}, {3.9286594699407897`*^9, 
   3.928659514904398*^9}, 3.929426254086241*^9},
 CellLabel->"In[8]:=",ExpressionUUID->"84680a2e-cda3-435b-9660-413c7514435e"],

Cell[BoxData[
 RowBox[{"\[IndentingNewLine]", "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"goingDown", "[", "]"}], ":=", 
   RowBox[{"If", "[", 
    RowBox[{
     RowBox[{"s", " ", "@", " ", 
      RowBox[{"isFalling", "[", 
       RowBox[{"ImageData", "[", 
        RowBox[{"ImageCompose", "[", 
         RowBox[{
          RowBox[{"Image", "[", 
           RowBox[{"displayLayer", ",", 
            RowBox[{"ImageSize", "\[Rule]", "Medium"}]}], "]"}], ",", 
          RowBox[{"ColorReplace", "[", 
           RowBox[{
            RowBox[{"Image", "[", "shapeLayer", "]"}], ",", 
            RowBox[{"Black", " ", "\[Rule]", " ", "Transparent"}]}], "]"}]}], 
         "]"}], "]"}], "]"}]}], ",", "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{"True", " ", "case"}], "*)"}], "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"s", " ", "@", " ", 
       RowBox[{"setPosY", "[", 
        RowBox[{"changePosY", "[", 
         RowBox[{"s", " ", "@", " ", 
          RowBox[{"getPosY", "[", "]"}]}], "]"}], "]"}]}], " ", ";", 
      "\[IndentingNewLine]", 
      RowBox[{"shapeLayer", " ", "=", " ", 
       RowBox[{"s", " ", "@", " ", 
        RowBox[{"placeOnDisplay", "[", 
         RowBox[{"shapeLayer", ",", "True"}], "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"!", 
         RowBox[{"(", 
          RowBox[{"s", " ", "@", " ", 
           RowBox[{"isFalling", "[", 
            RowBox[{"ImageData", "[", 
             RowBox[{"ImageCompose", "[", 
              RowBox[{
               RowBox[{"Image", "[", 
                RowBox[{"displayLayer", ",", 
                 RowBox[{"ImageSize", "\[Rule]", "Medium"}]}], "]"}], ",", 
               RowBox[{"ColorReplace", "[", 
                RowBox[{
                 RowBox[{"Image", "[", "shapeLayer", "]"}], ",", 
                 RowBox[{"Black", " ", "\[Rule]", " ", "Transparent"}]}], 
                "]"}]}], "]"}], "]"}], "]"}]}], ")"}]}], ",", " ", 
        RowBox[{
         RowBox[{"displayLayer", " ", "=", " ", 
          RowBox[{"s", " ", "@", " ", 
           RowBox[{"placeOnDisplay", "[", 
            RowBox[{"displayLayer", ",", "False"}], "]"}]}]}], ";", 
         RowBox[{"displayLayer", " ", "=", " ", 
          RowBox[{"clearFulls", "[", 
           RowBox[{"displayLayer", ",", " ", 
            RowBox[{"Length", "[", 
             RowBox[{"s", " ", "@", " ", 
              RowBox[{"getShape", "[", "]"}]}], "]"}], ",", " ", 
            RowBox[{"s", " ", "@", " ", 
             RowBox[{"getPosY", "[", "]"}]}]}], "]"}]}], ";", 
         RowBox[{"build", "[", "]"}]}]}], "]"}]}]}], "\[IndentingNewLine]", 
    RowBox[{"(*", 
     RowBox[{"False", " ", "case"}], "*)"}], "\[IndentingNewLine]", 
    "\[IndentingNewLine]", "\[IndentingNewLine]", "]"}]}]}]], "Input",
 CellChangeTimes->{{3.93012032528895*^9, 3.930120358609065*^9}},
 CellLabel->"In[13]:=",ExpressionUUID->"e021ecaa-9684-4009-94e3-c14a5b59b0c4"],

Cell[BoxData[
 RowBox[{
  RowBox[{"build", "[", "]"}], ";"}]], "Input",
 CellLabel->"In[9]:=",ExpressionUUID->"e1220ae5-6597-40fe-a83e-f35b6bda27fa"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"gameFunc", "[", "]"}], ":=", 
   RowBox[{"DynamicModule", "[", 
    RowBox[{
     RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{"Column", "[", 
      RowBox[{"{", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"Dynamic", "[", 
         RowBox[{"ImageCompose", "[", 
          RowBox[{
           RowBox[{"Image", "[", 
            RowBox[{"displayLayer", ",", 
             RowBox[{"ImageSize", "\[Rule]", "Medium"}]}], "]"}], ",", 
           RowBox[{"ColorReplace", "[", 
            RowBox[{
             RowBox[{"Image", "[", "shapeLayer", "]"}], ",", 
             RowBox[{"Black", " ", "\[Rule]", " ", "Transparent"}]}], "]"}]}],
           "]"}], "]"}], ",", "\[IndentingNewLine]", 
        RowBox[{"Row", "[", 
         RowBox[{"{", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"Button", "[", 
            RowBox[{"\"\<Left\>\"", ",", "\[IndentingNewLine]", " ", 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{
                RowBox[{
                 RowBox[{"s", " ", "@", " ", 
                  RowBox[{"getPosX", "[", "]"}]}], " ", ">", "  ", "1"}], " ",
                 "&&", " ", 
                RowBox[{"s", " ", "@", " ", 
                 RowBox[{"isFalling", "[", 
                  RowBox[{"ImageData", "[", 
                   RowBox[{"ImageCompose", "[", 
                    RowBox[{
                    RowBox[{"Image", "[", 
                    RowBox[{"displayLayer", ",", 
                    RowBox[{"ImageSize", "\[Rule]", "Medium"}]}], "]"}], ",", 
                    
                    RowBox[{"ColorReplace", "[", 
                    RowBox[{
                    RowBox[{"Image", "[", "shapeLayer", "]"}], ",", 
                    RowBox[{"Black", " ", "\[Rule]", " ", "Transparent"}]}], 
                    "]"}]}], "]"}], "]"}], "]"}]}]}], ",", 
               "\[IndentingNewLine]", " ", 
               RowBox[{
                RowBox[{"s", " ", "@", " ", 
                 RowBox[{"setPosX", "[", 
                  RowBox[{"changeToLeft", "[", 
                   RowBox[{"s", " ", "@", " ", 
                    RowBox[{"getPosX", "[", "]"}]}], "]"}], "]"}]}], ";", 
                "\[IndentingNewLine]", " ", 
                RowBox[{"shapeLayer", " ", "=", " ", 
                 RowBox[{"s", " ", "@", " ", 
                  RowBox[{"placeOnDisplay", "[", 
                   RowBox[{"shapeLayer", ",", " ", "True"}], "]"}]}]}], ";", 
                "\[IndentingNewLine]", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{"!", 
                   RowBox[{"(", 
                    RowBox[{"s", " ", "@", " ", 
                    RowBox[{"isFalling", "[", 
                    RowBox[{"ImageData", "[", 
                    RowBox[{"ImageCompose", "[", 
                    RowBox[{
                    RowBox[{"Image", "[", 
                    RowBox[{"displayLayer", ",", 
                    RowBox[{"ImageSize", "\[Rule]", "Medium"}]}], "]"}], ",", 
                    
                    RowBox[{"ColorReplace", "[", 
                    RowBox[{
                    RowBox[{"Image", "[", "shapeLayer", "]"}], ",", 
                    RowBox[{"Black", " ", "\[Rule]", " ", "Transparent"}]}], 
                    "]"}]}], "]"}], "]"}], "]"}]}], ")"}]}], ",", " ", 
                  RowBox[{
                   RowBox[{"displayLayer", " ", "=", " ", 
                    RowBox[{"s", " ", "@", " ", 
                    RowBox[{"placeOnDisplay", "[", 
                    RowBox[{"displayLayer", ",", "False"}], "]"}]}]}], ";", 
                   "  ", 
                   RowBox[{"displayLayer", " ", "=", " ", 
                    RowBox[{"clearFulls", "[", 
                    RowBox[{"displayLayer", ",", " ", 
                    RowBox[{"Length", "[", 
                    RowBox[{"s", " ", "@", " ", 
                    RowBox[{"getShape", "[", "]"}]}], "]"}], ",", " ", 
                    RowBox[{"s", " ", "@", " ", 
                    RowBox[{"getPosY", "[", "]"}]}]}], "]"}]}], ";", 
                   RowBox[{"build", "[", "]"}]}]}], "]"}]}]}], 
              "\[IndentingNewLine]", "]"}]}], "]"}], ",", 
           "\[IndentingNewLine]", "     ", "\[IndentingNewLine]", 
           "\[IndentingNewLine]", "   ", "\[IndentingNewLine]", 
           RowBox[{"Button", "[", 
            RowBox[{"\"\<Right\>\"", ",", " ", "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{
                  RowBox[{"s", " ", "@", " ", 
                   RowBox[{"getPosX", "[", "]"}]}], "<", 
                  RowBox[{
                   RowBox[{"Length", "[", 
                    RowBox[{"displayLayer", "[", 
                    RowBox[{"[", "1", "]"}], "]"}], "]"}], "-", 
                   RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Length", "[", 
                    RowBox[{
                    RowBox[{"(", 
                    RowBox[{"s", "@", 
                    RowBox[{"getShape", "[", "]"}]}], ")"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}], "]"}], "-", "1"}], 
                    ")"}]}]}], " ", "&&", " ", 
                 RowBox[{"s", " ", "@", " ", 
                  RowBox[{"isFalling", "[", 
                   RowBox[{"ImageData", "[", 
                    RowBox[{"ImageCompose", "[", 
                    RowBox[{
                    RowBox[{"Image", "[", 
                    RowBox[{"displayLayer", ",", 
                    RowBox[{"ImageSize", "\[Rule]", "Medium"}]}], "]"}], ",", 
                    
                    RowBox[{"ColorReplace", "[", 
                    RowBox[{
                    RowBox[{"Image", "[", "shapeLayer", "]"}], ",", 
                    RowBox[{"Black", " ", "\[Rule]", " ", "Transparent"}]}], 
                    "]"}]}], "]"}], "]"}], "]"}]}]}], ",", 
                "\[IndentingNewLine]", 
                RowBox[{
                 RowBox[{"s", " ", "@", " ", 
                  RowBox[{"setPosX", "[", 
                   RowBox[{"changeToRight", "[", 
                    RowBox[{"s", " ", "@", " ", 
                    RowBox[{"getPosX", "[", "]"}]}], "]"}], "]"}]}], ";", 
                 "\[IndentingNewLine]", 
                 RowBox[{"shapeLayer", " ", "=", " ", 
                  RowBox[{"s", " ", "@", " ", 
                   RowBox[{"placeOnDisplay", "[", 
                    RowBox[{"shapeLayer", ",", "True"}], "]"}]}]}]}]}], "]"}],
               ";", "\[IndentingNewLine]", 
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{"!", 
                 RowBox[{"(", 
                  RowBox[{"s", " ", "@", " ", 
                   RowBox[{"isFalling", "[", 
                    RowBox[{"ImageData", "[", 
                    RowBox[{"ImageCompose", "[", 
                    RowBox[{
                    RowBox[{"Image", "[", 
                    RowBox[{"displayLayer", ",", 
                    RowBox[{"ImageSize", "\[Rule]", "Medium"}]}], "]"}], ",", 
                    
                    RowBox[{"ColorReplace", "[", 
                    RowBox[{
                    RowBox[{"Image", "[", "shapeLayer", "]"}], ",", 
                    RowBox[{"Black", " ", "\[Rule]", " ", "Transparent"}]}], 
                    "]"}]}], "]"}], "]"}], "]"}]}], ")"}]}], ",", " ", 
                RowBox[{
                 RowBox[{"displayLayer", " ", "=", " ", 
                  RowBox[{"s", " ", "@", " ", 
                   RowBox[{"placeOnDisplay", "[", 
                    RowBox[{"displayLayer", ",", "False"}], "]"}]}]}], ";", 
                 "  ", 
                 RowBox[{"displayLayer", " ", "=", " ", 
                  RowBox[{"clearFulls", "[", 
                   RowBox[{"displayLayer", ",", " ", 
                    RowBox[{"Length", "[", 
                    RowBox[{"s", " ", "@", " ", 
                    RowBox[{"getShape", "[", "]"}]}], "]"}], ",", " ", 
                    RowBox[{"s", " ", "@", " ", 
                    RowBox[{"getPosY", "[", "]"}]}]}], "]"}]}], ";", 
                 RowBox[{"build", "[", "]"}]}]}], "]"}]}]}], 
            "\[IndentingNewLine]", "]"}], ",", "\[IndentingNewLine]", 
           RowBox[{"Button", "[", 
            RowBox[{"\"\<Rotate\>\"", ",", "\[IndentingNewLine]", 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{"s", " ", "@", " ", 
                RowBox[{"isFalling", "[", 
                 RowBox[{"ImageData", "[", 
                  RowBox[{"ImageCompose", "[", 
                   RowBox[{
                    RowBox[{"Image", "[", 
                    RowBox[{"displayLayer", ",", 
                    RowBox[{"ImageSize", "\[Rule]", "Medium"}]}], "]"}], ",", 
                    
                    RowBox[{"ColorReplace", "[", 
                    RowBox[{
                    RowBox[{"Image", "[", "shapeLayer", "]"}], ",", 
                    RowBox[{"Black", " ", "\[Rule]", " ", "Transparent"}]}], 
                    "]"}]}], "]"}], "]"}], "]"}]}], ",", 
               "\[IndentingNewLine]", 
               RowBox[{
                RowBox[{"s", " ", "@", " ", 
                 RowBox[{"setShape", "[", 
                  RowBox[{"rotateFigure", "[", 
                   RowBox[{
                    RowBox[{"s", " ", "@", " ", 
                    RowBox[{"getShape", "[", "]"}]}], ",", " ", "90"}], "]"}],
                   "]"}]}], ";", "\[IndentingNewLine]", 
                RowBox[{"shapeLayer", " ", "=", " ", 
                 RowBox[{"s", " ", "@", " ", 
                  RowBox[{"placeOnDisplay", "[", 
                   RowBox[{"shapeLayer", ",", "True"}], "]"}]}]}], ";", 
                "\[IndentingNewLine]", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{"!", 
                   RowBox[{"(", 
                    RowBox[{"s", " ", "@", " ", 
                    RowBox[{"isFalling", "[", 
                    RowBox[{"ImageData", "[", 
                    RowBox[{"ImageCompose", "[", 
                    RowBox[{
                    RowBox[{"Image", "[", 
                    RowBox[{"displayLayer", ",", 
                    RowBox[{"ImageSize", "\[Rule]", "Medium"}]}], "]"}], ",", 
                    
                    RowBox[{"ColorReplace", "[", 
                    RowBox[{
                    RowBox[{"Image", "[", "shapeLayer", "]"}], ",", 
                    RowBox[{"Black", " ", "\[Rule]", " ", "Transparent"}]}], 
                    "]"}]}], "]"}], "]"}], "]"}]}], ")"}]}], ",", " ", 
                  RowBox[{
                   RowBox[{"displayLayer", " ", "=", " ", 
                    RowBox[{"s", " ", "@", " ", 
                    RowBox[{"placeOnDisplay", "[", 
                    RowBox[{"displayLayer", ",", "False"}], "]"}]}]}], ";", 
                   " ", 
                   RowBox[{"displayLayer", " ", "=", " ", 
                    RowBox[{"clearFulls", "[", 
                    RowBox[{"displayLayer", ",", " ", 
                    RowBox[{"Length", "[", 
                    RowBox[{"s", " ", "@", " ", 
                    RowBox[{"getShape", "[", "]"}]}], "]"}], ",", " ", 
                    RowBox[{"s", " ", "@", " ", 
                    RowBox[{"getPosY", "[", "]"}]}]}], "]"}]}], ";", 
                   RowBox[{"build", "[", "]"}]}]}], "]"}]}]}], "]"}]}], 
            "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", "}"}], 
         "]"}]}], "}"}], "]"}]}], "\[IndentingNewLine]", 
    RowBox[{"(*", 
     RowBox[{
      RowBox[{"While", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"s", "@", 
          RowBox[{"getPosY", "[", "]"}]}], " ", "\[NotEqual]", " ", 
         RowBox[{"Length", "[", "display", "]"}]}], ",", 
        "\[IndentingNewLine]", "\[IndentingNewLine]", " ", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"s", "@", 
            RowBox[{"isFalling", "[", "display", "]"}]}], ",", 
           "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"display", " ", "=", " ", 
             RowBox[{"s", "@", 
              RowBox[{"placeOnDisplay", "[", "display", "]"}]}]}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"AppendTo", "[", 
             RowBox[{"frames", ",", "display"}], "]"}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"len", " ", "=", " ", 
             RowBox[{"Length", "[", "frames", "]"}]}], ";", 
            RowBox[{"ImageData", "\[IndentingNewLine]", 
             RowBox[{"Dynamic", "[", 
              RowBox[{"Print", "[", 
               RowBox[{"Image", "[", 
                RowBox[{"display", ",", 
                 RowBox[{"ImageSize", "\[Rule]", "Medium"}]}], "]"}], "]"}], 
              "]"}]}]}], ",", "\[IndentingNewLine]", 
           RowBox[{"Break", "[", "]"}]}], "    ", "\[IndentingNewLine]", 
          "]"}], ";", "\[IndentingNewLine]", 
         RowBox[{"s", "@", 
          RowBox[{"setPosY", "[", 
           RowBox[{
            RowBox[{"chanRandomInteger", "[", 
             RowBox[{"0", ",", 
              RowBox[{"{", 
               RowBox[{"23", ",", "10"}], "}"}]}], "]"}], 
            RowBox[{"gePosY", "[", 
             RowBox[{"s", "@", 
              RowBox[{"getPosY", "[", "]"}]}], "]"}]}], "]"}]}], ";", 
         RowBox[{"isplay", " ", "=", " ", 
          RowBox[{"RandomInteger", "[", 
           RowBox[{"0", ",", 
            RowBox[{"{", 
             RowBox[{"23", ",", "10"}], "}"}]}], "]"}]}]}]}], "]"}], ";", 
      RowBox[{
      "For", "[", "\[IndentingNewLine]", "\[IndentingNewLine]", "]"}]}], 
     "*)"}], " ", "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
  "\[IndentingNewLine]", "\[IndentingNewLine]", 
  "\[IndentingNewLine]"}]], "Input",
 CellChangeTimes->{{3.9244377863936405`*^9, 3.9244378088245697`*^9}, {
   3.9244383290789557`*^9, 3.924438386503892*^9}, {3.9244392845769444`*^9, 
   3.924439298862666*^9}, {3.924439655630638*^9, 3.9244396572630653`*^9}, {
   3.924440689501684*^9, 3.9244408545093193`*^9}, {3.9245269321496105`*^9, 
   3.9245269437558093`*^9}, {3.924532385085622*^9, 3.9245323902701645`*^9}, {
   3.9245334056867895`*^9, 3.924533625710206*^9}, {3.924533672029998*^9, 
   3.9245337078537426`*^9}, {3.9245337383606477`*^9, 
   3.9245337384866724`*^9}, {3.9245339084874363`*^9, 
   3.9245339262203765`*^9}, {3.924534072062684*^9, 3.9245341242936583`*^9}, {
   3.9245343318474216`*^9, 3.9245343333579464`*^9}, {3.924534370496039*^9, 
   3.9245343728139706`*^9}, 3.924534428736964*^9, {3.9245345158235164`*^9, 
   3.924534523486164*^9}, {3.924534625737033*^9, 3.9245346284707317`*^9}, {
   3.9245354479640837`*^9, 3.9245354527221217`*^9}, {3.9245359492367926`*^9, 
   3.9245363372301273`*^9}, {3.9245364286185017`*^9, 3.92453643034053*^9}, {
   3.9245364822058363`*^9, 3.924536499830455*^9}, {3.9245366400956*^9, 
   3.924536645131877*^9}, {3.9245368693348665`*^9, 3.9245368728070836`*^9}, {
   3.9246151069426355`*^9, 3.9246151263730173`*^9}, {3.9246154652312813`*^9, 
   3.924615465693142*^9}, {3.924619912848682*^9, 3.9246199184400945`*^9}, {
   3.924619972325198*^9, 3.9246199909314837`*^9}, {3.9246200329938884`*^9, 
   3.924620150517255*^9}, {3.924620187513035*^9, 3.9246202052301025`*^9}, {
   3.924620267355171*^9, 3.9246202872160215`*^9}, {3.9246203328234143`*^9, 
   3.9246203484751525`*^9}, {3.924738570301778*^9, 3.9247385703954782`*^9}, {
   3.9247393286639757`*^9, 3.9247393319684896`*^9}, {3.924739869205769*^9, 
   3.924739916840047*^9}, {3.924740010163003*^9, 3.924740038377954*^9}, {
   3.924740090863326*^9, 3.924740210802084*^9}, {3.925015048411377*^9, 
   3.925015067119525*^9}, {3.925015136503358*^9, 3.9250151564105873`*^9}, {
   3.925015238878024*^9, 3.925015243565785*^9}, {3.925015761721051*^9, 
   3.925015762305008*^9}, {3.925017263718145*^9, 3.925017335524496*^9}, {
   3.925017431183847*^9, 3.9250174800815477`*^9}, {3.925017533586466*^9, 
   3.925017574963985*^9}, {3.925017812746019*^9, 3.925017813158968*^9}, {
   3.92526445969154*^9, 3.925264512188622*^9}, {3.925264979708708*^9, 
   3.925265058271353*^9}, {3.925565610439771*^9, 3.9255656614536686`*^9}, {
   3.9256083254609365`*^9, 3.925608334891272*^9}, {3.9256084631228094`*^9, 
   3.925608486683166*^9}, {3.9256085233035684`*^9, 3.9256085254275684`*^9}, {
   3.925608555565116*^9, 3.9256085686776395`*^9}, {3.9256091013710794`*^9, 
   3.925609170756361*^9}, {3.9256092995816994`*^9, 3.925609307122696*^9}, 
   3.925623554526024*^9, {3.9256479320675297`*^9, 3.925647973356161*^9}, {
   3.9256480511492467`*^9, 3.925648051370291*^9}, {3.925648117564362*^9, 
   3.9256481176973996`*^9}, {3.925648249443308*^9, 3.9256482585374317`*^9}, {
   3.925648329168256*^9, 3.9256483350102477`*^9}, {3.925650595132116*^9, 
   3.925650597291067*^9}, {3.9257354712459455`*^9, 3.9257354767409563`*^9}, {
   3.925735665590764*^9, 3.925735666516732*^9}, {3.9257949426881175`*^9, 
   3.925794984979925*^9}, {3.925795390643632*^9, 3.9257954148806405`*^9}, {
   3.9257956516334743`*^9, 3.925795678664653*^9}, {3.92579584831691*^9, 
   3.9257958542489004`*^9}, {3.925797387565714*^9, 3.9257973921707144`*^9}, {
   3.925871187476999*^9, 3.9258711959890113`*^9}, {3.9258712318780966`*^9, 
   3.925871300027098*^9}, {3.9258713945407643`*^9, 3.9258714189387274`*^9}, 
   3.9258714649397593`*^9, {3.9258914929122458`*^9, 3.9258915228925457`*^9}, {
   3.9258916589817667`*^9, 3.9258916947344017`*^9}, {3.9258917375584555`*^9, 
   3.925891801606454*^9}, {3.925891857480428*^9, 3.92589191468071*^9}, {
   3.925891946663679*^9, 3.925891961222703*^9}, {3.9258929417453747`*^9, 
   3.9258929541823225`*^9}, {3.9263989071555862`*^9, 3.92639896478854*^9}, {
   3.926399018162717*^9, 3.926399026017511*^9}, {3.9263991208877163`*^9, 
   3.9263991465399847`*^9}, {3.926399885299673*^9, 3.926399893938005*^9}, {
   3.926403513976047*^9, 3.926403759191008*^9}, {3.9264038103277807`*^9, 
   3.9264038699987297`*^9}, {3.926403900343804*^9, 3.926403911663336*^9}, {
   3.926404040639493*^9, 3.926404096310893*^9}, {3.926404136399136*^9, 
   3.9264042211588173`*^9}, {3.926404284038601*^9, 3.926404291614731*^9}, {
   3.9264047375089893`*^9, 3.92640473780614*^9}, {3.9264047850931263`*^9, 
   3.926404909317871*^9}, {3.9264049970864*^9, 3.926405017357683*^9}, {
   3.9264051690774937`*^9, 3.9264051891415358`*^9}, {3.926405430149564*^9, 
   3.9264055410800133`*^9}, {3.9265843737802763`*^9, 
   3.9265843858020267`*^9}, {3.926585031147212*^9, 3.9265850564255915`*^9}, {
   3.9265852048274717`*^9, 3.9265852547072105`*^9}, 3.926585286498356*^9, {
   3.926586929727362*^9, 3.9265869367405157`*^9}, 3.9265869684819913`*^9, {
   3.9267336010563097`*^9, 3.9267336058849936`*^9}, {3.9269547585160294`*^9, 
   3.926954798729474*^9}, {3.9269548503953247`*^9, 3.926954931628048*^9}, {
   3.9269549894917917`*^9, 3.92695499047185*^9}, {3.9269550795468826`*^9, 
   3.926955124552537*^9}, {3.927072334270051*^9, 3.9270723598440485`*^9}, {
   3.9270723980790544`*^9, 3.927072408261056*^9}, {3.9270724541040506`*^9, 
   3.927072580805051*^9}, {3.927072614005051*^9, 3.927072824496117*^9}, {
   3.927072874487117*^9, 3.9270728755481176`*^9}, {3.927072969470117*^9, 
   3.9270729715451174`*^9}, {3.9270731115741167`*^9, 3.927073151654112*^9}, {
   3.927073205166113*^9, 3.927073206789117*^9}, {3.927073385088117*^9, 
   3.927073435966118*^9}, {3.927073518926118*^9, 3.927073527654146*^9}, {
   3.9270737573501177`*^9, 3.927073766925117*^9}, {3.9270738054056034`*^9, 
   3.927073864917602*^9}, 3.9270739279266195`*^9, {3.927074042862602*^9, 
   3.9270740446056023`*^9}, {3.927074102680602*^9, 3.927074103750602*^9}, {
   3.9271554582954855`*^9, 3.9271557073252635`*^9}, {3.92715576937467*^9, 
   3.9271557748218994`*^9}, {3.9271563228167253`*^9, 3.927156323302041*^9}, {
   3.9271564016316166`*^9, 3.9271564530215845`*^9}, {3.927157123358396*^9, 
   3.927157243465217*^9}, {3.927157392383254*^9, 3.9271574221427946`*^9}, {
   3.9271575207035627`*^9, 3.9271575284150143`*^9}, {3.927169450733952*^9, 
   3.9271694956888103`*^9}, {3.927169567792344*^9, 3.927169601548285*^9}, 
   3.927169635681601*^9, {3.927169674586451*^9, 3.927169674761435*^9}, 
   3.927169731507771*^9, 3.927170632357245*^9, {3.927170721220196*^9, 
   3.9271708151830473`*^9}, 3.9271709900254183`*^9, {3.927171382963127*^9, 
   3.927171422603801*^9}, {3.927171590628819*^9, 3.927171614729211*^9}, 
   3.9271717152892733`*^9, {3.9271718252645283`*^9, 3.9271718266037827`*^9}, {
   3.927174295655697*^9, 3.927174302753398*^9}, {3.927174946808879*^9, 
   3.927174961404357*^9}, {3.927377153242617*^9, 3.9273772266563764`*^9}, {
   3.9273785473343964`*^9, 3.9273785873723035`*^9}, {3.9273787752452483`*^9, 
   3.9273788310287256`*^9}, {3.9273789426128144`*^9, 3.9273789600750127`*^9}, 
   3.9273791467503996`*^9, {3.9273792043339095`*^9, 3.9273792226997604`*^9}, {
   3.92742017845078*^9, 3.9274202294009533`*^9}, {3.927420265904854*^9, 
   3.9274202868650045`*^9}, {3.9274222482705774`*^9, 3.92742231934793*^9}, {
   3.927767382492466*^9, 3.927767433060407*^9}, {3.927767479727623*^9, 
   3.927767519541155*^9}, {3.9277676971644506`*^9, 3.9277677174996324`*^9}, {
   3.92776782021237*^9, 3.9277678394112206`*^9}, 3.928040885864647*^9, {
   3.928040922302166*^9, 3.92804096137481*^9}, {3.9280409968058453`*^9, 
   3.928041021702408*^9}, {3.928043336917552*^9, 3.9280434889210787`*^9}, {
   3.9280439374697323`*^9, 3.9280439626109457`*^9}, {3.9280441209284286`*^9, 
   3.928044131248159*^9}, {3.9280443036016417`*^9, 3.928044321155094*^9}, {
   3.928044541112542*^9, 3.928044561006773*^9}, {3.9280446626887083`*^9, 
   3.9280446769720097`*^9}, {3.928044993882847*^9, 3.9280450138176537`*^9}, 
   3.928045375000969*^9, {3.928447376635691*^9, 3.928447387843672*^9}, {
   3.9286586843035145`*^9, 3.928658696499895*^9}, {3.929426258826933*^9, 
   3.9294262614563227`*^9}, {3.930120208363381*^9, 3.930120227171071*^9}, 
   3.930120317262588*^9},ExpressionUUID->"9642a7e9-1f91-415e-8d40-\
fdff073c3ae8"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"gameFunc", "[", "]"}], "\[IndentingNewLine]", 
 RowBox[{"Dynamic", "[", 
  RowBox[{"goingDown", "[", "]"}], "]"}]}], "Input",
 CellChangeTimes->{{3.9301203692668524`*^9, 3.9301203817043867`*^9}},
 CellLabel->"In[14]:=",ExpressionUUID->"5404c441-73c1-4109-b0c5-88924d0a9758"],

Cell[BoxData[
 DynamicModuleBox[{}, 
  TagBox[GridBox[{
     {
      DynamicBox[ToBoxes[
        ImageCompose[
         Image[$CellContext`displayLayer, ImageSize -> Medium], 
         ColorReplace[
          Image[$CellContext`shapeLayer], Black -> Transparent]], 
        StandardForm],
       ImageSizeCache->{642., {3., 9.}}]},
     {
      TemplateBox[{ButtonBox["\"Left\"", ButtonFunction :> If[
           And[$CellContext`s[
              Objects`getPosX[]] > 1, 
            $CellContext`s[
             Objects`isFalling[
              ImageData[
               ImageCompose[
                Image[$CellContext`displayLayer, ImageSize -> Medium], 
                ColorReplace[
                 Image[$CellContext`shapeLayer], Black -> 
                 Transparent]]]]]], $CellContext`s[
             Objects`setPosX[
              Functions`changeToLeft[
               $CellContext`s[
                
                Objects`getPosX[]]]]]; $CellContext`shapeLayer = \
$CellContext`s[
              Objects`placeOnDisplay[$CellContext`shapeLayer, True]]; If[
             Not[
              $CellContext`s[
               Objects`isFalling[
                ImageData[
                 ImageCompose[
                  Image[$CellContext`displayLayer, ImageSize -> Medium], 
                  ColorReplace[
                   Image[$CellContext`shapeLayer], Black -> 
                   Transparent]]]]]], $CellContext`displayLayer = \
$CellContext`s[
                
                Objects`placeOnDisplay[$CellContext`displayLayer, 
                 False]]; $CellContext`displayLayer = 
              Functions`clearFulls[$CellContext`displayLayer, 
                Length[
                 $CellContext`s[
                  Objects`getShape[]]], 
                $CellContext`s[
                 Objects`getPosY[]]]; $CellContext`build[]]], Appearance -> 
         Automatic, Evaluator -> Automatic, Method -> "Preemptive"],ButtonBox[
        "\"Down\"", ButtonFunction :> If[
           $CellContext`s[
            Objects`isFalling[
             ImageData[
              ImageCompose[
               Image[$CellContext`displayLayer, ImageSize -> Medium], 
               ColorReplace[
                Image[$CellContext`shapeLayer], Black -> 
                Transparent]]]]], $CellContext`s[
             Objects`setPosY[
              Functions`changePosY[
               $CellContext`s[
                
                Objects`getPosY[]]]]]; $CellContext`shapeLayer = \
$CellContext`s[
              Objects`placeOnDisplay[$CellContext`shapeLayer, True]]; If[
             Not[
              $CellContext`s[
               Objects`isFalling[
                ImageData[
                 ImageCompose[
                  Image[$CellContext`displayLayer, ImageSize -> Medium], 
                  ColorReplace[
                   Image[$CellContext`shapeLayer], Black -> 
                   Transparent]]]]]], $CellContext`displayLayer = \
$CellContext`s[
                
                Objects`placeOnDisplay[$CellContext`displayLayer, 
                 False]]; $CellContext`displayLayer = 
              Functions`clearFulls[$CellContext`displayLayer, 
                Length[
                 $CellContext`s[
                  Objects`getShape[]]], 
                $CellContext`s[
                 Objects`getPosY[]]]; $CellContext`build[]]], Appearance -> 
         Automatic, Evaluator -> Automatic, Method -> "Preemptive"],ButtonBox[
        "\"Right\"", ButtonFunction :> (If[
            And[$CellContext`s[
               Objects`getPosX[]] < Length[
                Part[$CellContext`displayLayer, 1]] - (Length[
                Part[
                 $CellContext`s[
                  Objects`getShape[]], 1]] - 1), 
             $CellContext`s[
              Objects`isFalling[
               ImageData[
                ImageCompose[
                 Image[$CellContext`displayLayer, ImageSize -> Medium], 
                 ColorReplace[
                  Image[$CellContext`shapeLayer], Black -> 
                  Transparent]]]]]], $CellContext`s[
              Objects`setPosX[
               Functions`changeToRight[
                $CellContext`s[
                 
                 Objects`getPosX[]]]]]; $CellContext`shapeLayer = \
$CellContext`s[
               Objects`placeOnDisplay[$CellContext`shapeLayer, True]]]; If[
            Not[
             $CellContext`s[
              Objects`isFalling[
               ImageData[
                ImageCompose[
                 Image[$CellContext`displayLayer, ImageSize -> Medium], 
                 ColorReplace[
                  Image[$CellContext`shapeLayer], Black -> 
                  Transparent]]]]]], $CellContext`displayLayer = \
$CellContext`s[
               
               Objects`placeOnDisplay[$CellContext`displayLayer, 
                False]]; $CellContext`displayLayer = 
             Functions`clearFulls[$CellContext`displayLayer, 
               Length[
                $CellContext`s[
                 Objects`getShape[]]], 
               $CellContext`s[
                Objects`getPosY[]]]; $CellContext`build[]]), Appearance -> 
         Automatic, Evaluator -> Automatic, Method -> "Preemptive"],ButtonBox[
        "\"Rotate\"", ButtonFunction :> If[
           $CellContext`s[
            Objects`isFalling[
             ImageData[
              ImageCompose[
               Image[$CellContext`displayLayer, ImageSize -> Medium], 
               ColorReplace[
                Image[$CellContext`shapeLayer], Black -> 
                Transparent]]]]], $CellContext`s[
             Objects`setShape[
              Functions`rotateFigure[
               $CellContext`s[
                Objects`getShape[]], 
               90]]]; $CellContext`shapeLayer = $CellContext`s[
              Objects`placeOnDisplay[$CellContext`shapeLayer, True]]; If[
             Not[
              $CellContext`s[
               Objects`isFalling[
                ImageData[
                 ImageCompose[
                  Image[$CellContext`displayLayer, ImageSize -> Medium], 
                  ColorReplace[
                   Image[$CellContext`shapeLayer], Black -> 
                   Transparent]]]]]], $CellContext`displayLayer = \
$CellContext`s[
                
                Objects`placeOnDisplay[$CellContext`displayLayer, 
                 False]]; $CellContext`displayLayer = 
              Functions`clearFulls[$CellContext`displayLayer, 
                Length[
                 $CellContext`s[
                  Objects`getShape[]]], 
                $CellContext`s[
                 Objects`getPosY[]]]; $CellContext`build[]]], Appearance -> 
         Automatic, Evaluator -> Automatic, Method -> "Preemptive"]},
       "RowDefault"]}
    },
    DefaultBaseStyle->"Column",
    GridBoxAlignment->{"Columns" -> {{Left}}},
    GridBoxItemSize->{"Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}],
   "Column"],
  DynamicModuleValues:>{}]], "Output",
 CellChangeTimes->{3.930120389644498*^9},
 CellLabel->"Out[14]=",ExpressionUUID->"2b3c1c8e-381a-48dd-8da7-e880d1dce261"],

Cell[BoxData[
 DynamicBox[ToBoxes[
   $CellContext`goingDown[], StandardForm],
  ImageSizeCache->{77., {3., 9.}}]], "Output",
 CellChangeTimes->{3.93012038966115*^9},
 CellLabel->"Out[15]=",ExpressionUUID->"31244f7a-8663-4a67-9158-4862ccb33d3b"]
}, Open  ]],

Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.92844739485865*^9, 3.928447475553647*^9}, {
  3.928447522570571*^9, 3.928447540154047*^9}, {3.9301202503293066`*^9, 
  3.9301202832833886`*^9}},
 CellLabel->"In[12]:=",ExpressionUUID->"5210d353-fc00-4090-949e-e424f6506501"],

Cell[BoxData[""], "Input",
 CellChangeTimes->{3.928447520202669*^9},
 NumberMarks->False,ExpressionUUID->"028e68a9-4685-4c64-aca7-97bf1ede6beb"],

Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.928447519466654*^9, 
  3.928447519471654*^9}},ExpressionUUID->"c145ae73-7462-43c4-984e-\
9bd7e284e044"],

Cell[BoxData[""], "Input",
 CellChangeTimes->{3.9284475180896745`*^9},
 NumberMarks->False,ExpressionUUID->"cd0827fc-479b-4067-804d-5d1670364ee8"],

Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.9284475171211853`*^9, 
  3.928447517132448*^9}},ExpressionUUID->"2c092cca-c861-4f71-86c5-\
70066cb08585"],

Cell[BoxData[""], "Input",
 CellChangeTimes->{3.9277678919232473`*^9, 
  3.931041413726387*^9},ExpressionUUID->"b22bba62-b8d5-40af-bf49-\
9657a5e16ea4"],

Cell[BoxData[
 RowBox[{"\[IndentingNewLine]", "\[IndentingNewLine]"}]], "Input",
 CellChangeTimes->{{3.9258714233067274`*^9, 3.925871434538765*^9}, 
   3.9258919635657115`*^9, {3.925892577311452*^9, 3.925892588445115*^9}, 
   3.9258929673183227`*^9, {3.925895005750678*^9, 3.9258950182306986`*^9}, {
   3.925895084013754*^9, 3.9258951183900723`*^9}, 3.926398803610862*^9, 
   3.926398944690777*^9},ExpressionUUID->"e209a483-d3bc-4df3-82ab-\
8774577a5a5c"],

Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.9263999155187607`*^9, 
  3.926399915527261*^9}},ExpressionUUID->"7358b7e8-d301-4383-9a0d-\
2082931fd0c4"],

Cell[BoxData["   "], "Input",
 CellChangeTimes->{{3.9258949925141044`*^9, 
  3.925894992928646*^9}},ExpressionUUID->"fdfbf0cb-0ea0-44b5-9ad8-\
4c579f0a3068"],

Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.924620012327854*^9, 
  3.9246200138202715`*^9}},ExpressionUUID->"51fd4f16-e11e-472c-8a96-\
a7511db1d79c"],

Cell[CellGroupData[{

Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.924438399337393*^9, 3.924438407146285*^9}, {
   3.924438437185652*^9, 3.9244384570072746`*^9}, {3.9244402306614285`*^9, 
   3.924440245078946*^9}, 
   3.924440678933591*^9},ExpressionUUID->"4e351d9c-3eeb-41b6-a657-\
0124cdf96ed8"],

Cell[BoxData[""], "Print",
 GeneratedCell->False,
 CellAutoOverwrite->False,
 CellChangeTimes->{{3.9244384577105446`*^9, 3.924438485682289*^9}, 
   3.9244385699169645`*^9, 3.924438627677456*^9, 3.9244387785723248`*^9, 
   3.9244396021627316`*^9, 3.9244400341470013`*^9, {3.9244402329650283`*^9, 
   3.9244402463955903`*^9}, 
   3.9244406977959967`*^9},ExpressionUUID->"b03cc72b-acdd-4844-b3c1-\
5f14df891c8b"]
}, Open  ]],

Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.9244377548167715`*^9, 
  3.9244377584956627`*^9}},ExpressionUUID->"7479a5b2-b719-46ee-9a56-\
31be77aba3dd"],

Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.9244337297266865`*^9, 3.9244337658889065`*^9}, {
   3.9244358062270555`*^9, 3.9244358125359325`*^9}, 
   3.9244361013980713`*^9},ExpressionUUID->"55f9c598-960d-415f-b574-\
7ce9bc79c0a0"],

Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.9244358315930433`*^9, 3.9244358507340326`*^9}, {
   3.924435934911649*^9, 3.9244359350952597`*^9}, 
   3.9244360980881433`*^9},ExpressionUUID->"3565732a-afb7-428c-8637-\
c153ce562ef1"],

Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.924436106957489*^9, 
  3.924436110145855*^9}},ExpressionUUID->"503419a2-7fb5-425c-ac8d-\
9f232738117f"],

Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.924436109029274*^9, 
  3.924436109036271*^9}},ExpressionUUID->"076aa3f2-78e8-4ce1-94c7-\
ca7a96447093"],

Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.923814292906814*^9, 3.923814333767232*^9}, {
   3.923814424754342*^9, 3.9238144266821938`*^9}, 3.9239181036055765`*^9, {
   3.9239181915098596`*^9, 3.9239182448494005`*^9}, {3.9239183567829638`*^9, 
   3.923918433142589*^9}, {3.9239207424075527`*^9, 3.923920750143551*^9}, {
   3.923920809224546*^9, 3.9239208241915517`*^9}, {3.9239256432271223`*^9, 
   3.9239256670515175`*^9}, {3.9240011735430937`*^9, 3.9240011813210955`*^9}, 
   3.9244360951568766`*^9},ExpressionUUID->"dbb32f0f-a6a4-4822-a38a-\
051c91765cf7"],

Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.9239251404454727`*^9, 3.9239251616684713`*^9}, {
   3.924003950470229*^9, 3.9240040350222287`*^9}, {3.9240786635378466`*^9, 
   3.924078667599019*^9}, 
   3.9244360941106634`*^9},ExpressionUUID->"19f99bfb-bc62-4c0a-9e7e-\
c2977ef52e4b"],

Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.9244360878147182`*^9, 
  3.9244360878214254`*^9}},ExpressionUUID->"0c306783-f405-4724-a0f0-\
8ee67a162fad"],

Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.923807618725421*^9, 3.9238076320175323`*^9}, {
  3.9238076642874393`*^9, 
  3.923807695868732*^9}},ExpressionUUID->"0ea37254-6cc0-4d6c-8e55-\
a6f908de2f5e"],

Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.924078674706462*^9, 3.924078752827278*^9}, {
   3.9240788938596473`*^9, 3.9240789030488377`*^9}, {3.924078947912834*^9, 
   3.92407900094046*^9}, {3.92407905426155*^9, 3.92407905792524*^9}, {
   3.9242651851705494`*^9, 3.9242651992706137`*^9}, {3.9242652954451427`*^9, 
   3.924265318151535*^9}, {3.9244329625659857`*^9, 3.924432979232476*^9}, {
   3.924433081882622*^9, 3.9244331179973345`*^9}, {3.9244332516492386`*^9, 
   3.924433259207694*^9}, {3.924433521863573*^9, 3.924433555557451*^9}, 
   3.9244336888013597`*^9},ExpressionUUID->"64bcb048-a9e7-4f81-a7e1-\
8bd40dff18ea"],

Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.9244329662006006`*^9, 
  3.92443296620963*^9}},ExpressionUUID->"bcd05889-9991-48f8-964a-\
f68291fa0d2a"]
},
WindowSize->{958, 988},
WindowMargins->{{Automatic, -7}, {Automatic, 0}},
TaggingRules->{
 "PresenterSettings" -> {
   "ShowToolbar" -> True, "SlideBreakStyles" -> {}, "ShowSlideBreaks" -> 
    True}},
Magnification:>0.9 Inherited,
FrontEndVersion->"12.0 for Microsoft Windows (64-bit) (April 8, 2019)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[558, 20, 152, 3, 26, "Input",ExpressionUUID->"74f86dd5-4275-4ae3-aa3c-9dc089e9241c"],
Cell[713, 25, 1433, 20, 26, "Input",ExpressionUUID->"a07243e4-f485-4ca3-9ff3-ba203c6423b0"],
Cell[2149, 47, 230, 3, 26, "Input",ExpressionUUID->"20860d48-3642-4fc5-8ca7-0249d4e28fc9"],
Cell[2382, 52, 364, 7, 26, "Input",ExpressionUUID->"565715d1-b626-4583-b9fd-636ae94ae980"],
Cell[2749, 61, 199, 3, 26, "Input",ExpressionUUID->"51dd8279-7305-4d4a-b5ca-fec45508606e"],
Cell[2951, 66, 147, 2, 26, "Input",ExpressionUUID->"bb6c9b67-7a98-4d23-9a9c-4689af77ae8d"],
Cell[3101, 70, 820, 16, 63, "Input",ExpressionUUID->"8c861900-a1ce-4afe-8447-d247f409af75"],
Cell[3924, 88, 459, 6, 45, "Code",ExpressionUUID->"d67fe887-8a20-4c71-be98-74e0d79854a3"],
Cell[4386, 96, 1526, 40, 153, "Input",ExpressionUUID->"e379ec9d-cbb6-4331-b73f-9333586a8b2b"],
Cell[5915, 138, 533, 8, 26, "Input",ExpressionUUID->"7cea3099-4107-4e9f-96bf-593be7760bb4"],
Cell[6451, 148, 225, 4, 26, "Input",ExpressionUUID->"d1e80638-0916-477b-8c5e-b15278989dc9"],
Cell[6679, 154, 1045, 25, 63, "Input",ExpressionUUID->"50987ebf-66cf-4e4d-93f9-01d2e26c4685"],
Cell[7727, 181, 2262, 51, 153, "Input",ExpressionUUID->"84680a2e-cda3-435b-9660-413c7514435e"],
Cell[9992, 234, 2965, 68, 333, "Input",ExpressionUUID->"e021ecaa-9684-4009-94e3-c14a5b59b0c4"],
Cell[12960, 304, 149, 3, 26, "Input",ExpressionUUID->"e1220ae5-6597-40fe-a83e-f35b6bda27fa"],
Cell[13112, 309, 22140, 411, 1125, "Input",ExpressionUUID->"9642a7e9-1f91-415e-8d40-fdff073c3ae8"],
Cell[CellGroupData[{
Cell[35277, 724, 299, 5, 45, "Input",ExpressionUUID->"5404c441-73c1-4109-b0c5-88924d0a9758"],
Cell[35579, 731, 7092, 171, 58, "Output",ExpressionUUID->"2b3c1c8e-381a-48dd-8da7-e880d1dce261"],
Cell[42674, 904, 245, 5, 30, "Output",ExpressionUUID->"31244f7a-8663-4a67-9158-4862ccb33d3b"]
}, Open  ]],
Cell[42934, 912, 272, 4, 26, "Input",ExpressionUUID->"5210d353-fc00-4090-949e-e424f6506501"],
Cell[43209, 918, 144, 2, 26, "Input",ExpressionUUID->"028e68a9-4685-4c64-aca7-97bf1ede6beb"],
Cell[43356, 922, 152, 3, 26, "Input",ExpressionUUID->"c145ae73-7462-43c4-984e-9bd7e284e044"],
Cell[43511, 927, 146, 2, 26, "Input",ExpressionUUID->"cd0827fc-479b-4067-804d-5d1670364ee8"],
Cell[43660, 931, 154, 3, 26, "Input",ExpressionUUID->"2c092cca-c861-4f71-86c5-70066cb08585"],
Cell[43817, 936, 152, 3, 26, "Input",ExpressionUUID->"b22bba62-b8d5-40af-bf49-9657a5e16ea4"],
Cell[43972, 941, 455, 7, 63, "Input",ExpressionUUID->"e209a483-d3bc-4df3-82ab-8774577a5a5c"],
Cell[44430, 950, 154, 3, 26, "Input",ExpressionUUID->"7358b7e8-d301-4383-9a0d-2082931fd0c4"],
Cell[44587, 955, 157, 3, 26, "Input",ExpressionUUID->"fdfbf0cb-0ea0-44b5-9ad8-4c579f0a3068"],
Cell[44747, 960, 154, 3, 26, "Input",ExpressionUUID->"51fd4f16-e11e-472c-8a96-a7511db1d79c"],
Cell[CellGroupData[{
Cell[44926, 967, 279, 5, 26, "Input",ExpressionUUID->"4e351d9c-3eeb-41b6-a657-0124cdf96ed8"],
Cell[45208, 974, 409, 8, 21, "Print",ExpressionUUID->"b03cc72b-acdd-4844-b3c1-5f14df891c8b"]
}, Open  ]],
Cell[45632, 985, 156, 3, 26, "Input",ExpressionUUID->"7479a5b2-b719-46ee-9a56-31be77aba3dd"],
Cell[45791, 990, 235, 4, 26, "Input",ExpressionUUID->"55f9c598-960d-415f-b574-7ce9bc79c0a0"],
Cell[46029, 996, 233, 4, 26, "Input",ExpressionUUID->"3565732a-afb7-428c-8637-c153ce562ef1"],
Cell[46265, 1002, 152, 3, 26, "Input",ExpressionUUID->"503419a2-7fb5-425c-ac8d-9f232738117f"],
Cell[46420, 1007, 152, 3, 26, "Input",ExpressionUUID->"076aa3f2-78e8-4ce1-94c7-ca7a96447093"],
Cell[46575, 1012, 563, 8, 26, "Input",ExpressionUUID->"dbb32f0f-a6a4-4822-a38a-051c91765cf7"],
Cell[47141, 1022, 285, 5, 26, "Input",ExpressionUUID->"19f99bfb-bc62-4c0a-9e7e-c2977ef52e4b"],
Cell[47429, 1029, 156, 3, 26, "Input",ExpressionUUID->"0c306783-f405-4724-a0f0-8ee67a162fad"],
Cell[47588, 1034, 205, 4, 26, "Input",ExpressionUUID->"0ea37254-6cc0-4d6c-8e55-a6f908de2f5e"],
Cell[47796, 1040, 628, 9, 26, "Input",ExpressionUUID->"64bcb048-a9e7-4f81-a7e1-8bd40dff18ea"],
Cell[48427, 1051, 153, 3, 26, "Input",ExpressionUUID->"bcd05889-9991-48f8-964a-f68291fa0d2a"]
}
]
*)

